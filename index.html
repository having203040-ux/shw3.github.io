<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ë‚´ë©´ ë‹¤ì´ì–´ë¦¬ Â· í•˜ë£¨ ê°ì • ì²´í¬</title>
<style>
  body{margin:0;font-family:system-ui,Pretendard,Apple SD Gothic Neo,sans-serif;background:#f6f7fb;color:#222;}
  header{background:#4f46e5;color:#fff;padding:18px 20px;text-align:center;font-weight:600;}
  main{max-width:720px;margin:auto;padding:18px;}
  .card{background:#fff;border:1px solid #e5e7eb;border-radius:18px;padding:16px;margin-bottom:14px;}
  label{display:block;font-weight:600;margin-bottom:8px;}
  select,input[type=text],textarea{width:100%;border:1px solid #e5e7eb;border-radius:12px;padding:10px;font-size:16px;}
  textarea{min-height:80px;}
  .row{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px;}
  .pill{flex:1 1 calc(33% - 8px);text-align:center;padding:8px;border-radius:12px;border:1px solid #e5e7eb;cursor:pointer;user-select:none;}
  .pill.active{background:#4f46e5;color:#fff;border-color:#4f46e5;}
  button{border:none;border-radius:12px;padding:12px 16px;font-size:16px;cursor:pointer;}
  .primary{background:#4f46e5;color:#fff;width:100%;margin-top:12px;}
  .hint{font-size:12px;color:#666;margin-top:4px;}
</style>
</head>
<body>
<header>ğŸŒ¿ ë‚´ë©´ ë‹¤ì´ì–´ë¦¬ Â· ì˜¤ëŠ˜ì˜ ë§ˆìŒ ê¸°ë¡</header>
<main>
  <div class="card">
    <label>1. ì˜¤ëŠ˜ì˜ ë§ˆìŒ ë‚ ì”¨</label>
    <div class="row" id="weatherBox"></div>
  </div>

  <div class="card">
    <label>2. ê°ì • ìƒíƒœ</label>
    <div class="row" id="emotionBox"></div>
    <input type="text" id="emotionExtra" placeholder="ë‹¤ë¥¸ ê°ì •ì´ ìˆë‹¤ë©´ ì ì–´ë³´ì„¸ìš”" />
  </div>

  <div class="card">
    <label>3. ì—ë„ˆì§€ ìƒíƒœ</label>
    <div class="row" id="energyBox"></div>
  </div>

  <div class="card">
    <label>4. ì˜¤ëŠ˜ í•˜ë£¨ë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•œë‹¤ë©´?</label>
    <input type="text" id="summary" placeholder="ì˜ˆ: ì˜¤ëŠ˜ì€ ì¡°ê¸ˆ ì§€ì³¤ì§€ë§Œ ì˜ ë²„í…¼ì–´." />
  </div>

  <div class="card">
    <label>5. ì˜¤ëŠ˜ì˜ ë§ˆìŒì„ ë” ì´ì•¼ê¸°í•´ë³¼ê¹Œìš”?</label>
    <textarea id="detail" placeholder="ì˜ˆ: ì™œ ê·¸ë ‡ê²Œ ëŠê¼ˆëŠ”ì§€, ì–´ë–¤ ìˆœê°„ì´ ë– ì˜¤ë¥´ëŠ”ì§€ ì ì–´ë³´ì„¸ìš”."></textarea>
  </div>

  <div class="card">
    <label>6. ì˜¤ëŠ˜ ê³ ë§ˆìš´ ìˆœê°„ 1ê°€ì§€</label>
    <textarea id="gratitude" placeholder="ì˜ˆ: ê°€ì¡±ê³¼ í•¨ê»˜ ì €ë…ì„ ë¨¹ì€ ìˆœê°„"></textarea>
  </div>

  <div class="card">
    <label>7. ë‚´ì¼ì„ ìœ„í•œ ë‹¤ì§</label>
    <select id="pledgeSelect">
      <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
      <option>ì¶©ë¶„íˆ ì‰¬ê¸°</option>
      <option>ê°€ë²¼ìš´ ìš´ë™í•˜ê¸°</option>
      <option>ë§ˆìŒì˜ ëŒ€í™” ì‹œë„í•˜ê¸°</option>
      <option>ê°ì • ì¼ê¸° ì“°ê¸°</option>
      <option>ë‚˜ ìì‹ ì—ê²Œ ì¹­ì°¬ í•œë§ˆë””</option>
    </select>
    <input type="text" id="pledgeExtra" placeholder="ì§ì ‘ ì ê¸° (ì„ íƒ ì™¸)" />
  </div>

  <button class="primary" id="saveBtn">ì˜¤ëŠ˜ì˜ ê¸°ë¡ ì €ì¥í•˜ê¸°</button>
  <div class="hint">ë°ì´í„°ëŠ” ì´ ë¸Œë¼ìš°ì €ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤(localStorage).</div>
</main>

<script>
const options = {
  weather:['â˜€ï¸ ë§‘ìŒ','â˜ï¸ íë¦¼','ğŸŒ§ ë¹„','ğŸŒˆ ë¬´ì§€ê°œ ëŠë‚Œ','â›ˆ ë‹µë‹µí•¨','ğŸŒ™ ì°¨ë¶„í•¨'],
  emotion:['ğŸ˜Š ê¸°ì¨','ğŸ˜Œ í‰ì˜¨','ğŸ˜¢ ìŠ¬í””','ğŸ˜¡ í™”ë‚¨','ğŸ˜” ì™¸ë¡œì›€','ğŸ˜° ë¶ˆì•ˆ','ğŸ˜´ í”¼ê³¤í•¨','ğŸ¤— ê°ì‚¬í•¨'],
  energy:['ğŸ’¤ ì§€ì¹¨','ğŸ™‚ ë³´í†µ','âš¡ í™œê¸°ì°¸']
};
const makePills=(arr,boxId)=>arr.forEach(v=>{
  const el=document.createElement('div');
  el.textContent=v;el.className='pill';
  el.onclick=()=>{document.querySelectorAll(`#${boxId} .pill`).forEach(p=>p.classList.remove('active'));el.classList.add('active');};
  document.getElementById(boxId).appendChild(el);
});
makePills(options.weather,'weatherBox');
makePills(options.emotion,'emotionBox');
makePills(options.energy,'energyBox');

const $=id=>document.getElementById(id);
function getSelected(boxId){
  const el=document.querySelector(`#${boxId} .pill.active`);
  return el?el.textContent:'';
}
const KEY='innerDiary.v2';
$('#saveBtn').onclick=()=>{
  const data={
    date:new Date().toISOString().slice(0,10),
    weather:getSelected('weatherBox'),
    emotion:getSelected('emotionBox'),
    energy:getSelected('energyBox'),
    emotionExtra:$('#emotionExtra').value.trim(),
    summary:$('#summary').value.trim(),
    detail:$('#detail').value.trim(),
    gratitude:$('#gratitude').value.trim(),
    pledge:($('#pledgeSelect').value||'')+' '+$('#pledgeExtra').value.trim()
  };
  const all=JSON.parse(localStorage.getItem(KEY)||'[]');
  all.push(data); localStorage.setItem(KEY,JSON.stringify(all));
  alert('ì˜¤ëŠ˜ì˜ ë§ˆìŒì´ ì €ì¥ë˜ì—ˆì–´ìš” ğŸŒ±');
  document.querySelectorAll('.pill').forEach(p=>p.classList.remove('active'));
  ['emotionExtra','summary','detail','gratitude','pledgeExtra'].forEach(i=>$(i).value='');
  $('#pledgeSelect').value='';
};
</script>
</body>
</html>
